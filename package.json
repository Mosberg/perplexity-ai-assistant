{
  "contributes": {
    "configuration": {
      "title": "Perplexity AI",
      "properties": {
        "perplexityAI.model": {
          "type": "string",
          "default": "sonar",
          "enum": [
            "sonar",
            "sonar-pro",
            "sonar-reasoning",
            "llama-3.1-sonar-small-128k-online",
            "llama-3.1-sonar-large-128k-online",
            "llama-3.1-sonar-huge-128k-online"
          ],
          "description": "Default Perplexity AI model for chat"
        },
        "perplexityAI.completionModel": {
          "type": "string",
          "default": "sonar",
          "enum": [
            "sonar",
            "sonar-pro"
          ],
          "description": "Model for inline code completions (lighter models recommended)"
        },
        "perplexityAI.maxTokens": {
          "type": "number",
          "default": 2000,
          "description": "Maximum tokens in response"
        },
        "perplexityAI.currentMode": {
          "type": "string",
          "enum": ["ask", "code", "debug"],
          "default": "ask",
          "description": "Default chat mode"
        },
        "perplexityAI.completionEnabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable inline code completions"
        },
        "perplexityAI.completionDebounceMs": {
          "type": "number",
          "default": 500,
          "minimum": 100,
          "maximum": 2000,
          "description": "Debounce time for completions in milliseconds"
        },
        "perplexityAI.temperature": {
          "type": "number",
          "default": 0.2,
          "minimum": 0,
          "maximum": 1,
          "description": "Temperature for AI responses (0-1, lower = more focused)"
        }
      }
    },
    "commands": [
      {
        "command": "perplexity-ai.generateCommit",
        "title": "Generate Commit Message",
        "icon": "$(git-commit)"
      },
      {
        "command": "perplexity-ai.generateCommitForStaged",
        "title": "Generate Commit for Staged Changes",
        "icon": "$(git-commit)"
      },
      {
        "command": "perplexity-ai.analyzeChanges",
        "title": "Analyze Git Changes",
        "icon": "$(search)"
      },
      {
        "command": "perplexity-ai.enableCompletion",
        "title": "Enable Inline Completions"
      },
      {
        "command": "perplexity-ai.disableCompletion",
        "title": "Disable Inline Completions"
      },
      {
        "command": "perplexity-ai.generateTests",
        "title": "Generate Unit Tests",
        "icon": "$(beaker)"
      },
      {
        "command": "perplexity-ai.convertCode",
        "title": "Convert Code to Another Language",
        "icon": "$(symbol-method)"
      },
      {
        "command": "perplexity-ai.reviewCode",
        "title": "Review Code",
        "icon": "$(checklist)"
      },
      {
        "command": "perplexity-ai.selectModel",
        "title": "Select AI Model",
        "icon": "$(settings-gear)"
      },
      {
        "command": "perplexity-ai.exportChat",
        "title": "Export Chat Session",
        "icon": "$(export)"
      }
    ],
    "menus": {
      "scm/title": [
        {
          "command": "perplexity-ai.generateCommit",
          "group": "navigation",
          "when": "scmProvider == git"
        }
      ],
      "perplexity-ai.submenu": [
        {
          "command": "perplexity-ai.generateTests",
          "when": "editorHasSelection",
          "group": "1_code@6"
        },
        {
          "command": "perplexity-ai.convertCode",
          "when": "editorHasSelection",
          "group": "1_code@7"
        },
        {
          "command": "perplexity-ai.reviewCode",
          "when": "editorHasSelection",
          "group": "1_code@8"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -w -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext .ts",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "^25.0.3",
    "@types/vscode": "^1.107.0",
    "@typescript-eslint/eslint-plugin": "^8.51.0",
    "@typescript-eslint/parser": "^8.51.0",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.5.2",
    "eslint": "^9.39.2",
    "eslint-config-prettier": "^10.1.8",
    "prettier": "^3.7.4",
    "prettier-eslint": "^16.4.2",
    "typescript": "^5.9.3"
  },
  "dependencies": {
    "@ai-sdk/perplexity": "^3.0.2",
    "@perplexity-ai/perplexity_ai": "^0.18.2"
  }
}
